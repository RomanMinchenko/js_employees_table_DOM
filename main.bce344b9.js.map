{"version":3,"sources":["scripts/main.js"],"names":["sortedBy","tbody","document","querySelector","thead","correctFormatSalary","string","number","replace","toLocaleString","toNum","sortList","index","sortableList","sorted","children","textContent","reverse","sort","a","b","next","prev","isNaN","localeCompare","person","append","addEventListener","e","item","target","findIndex","elem","closest","map","removeAttribute","classList","add","input","createElement","text","value","focus","parentNode","oninput","substr","onblur","onBlur","trim","remove","form","body","innerHTML","inputs","querySelectorAll","notification","getNotificationText","stat","join","length","setTimeout","element","cloneNode","i","y"],"mappings":";AAAA,aAyKA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,MAAA,EAAA,OAAA,UAAA,CAAA,GAAA,MAAA,QAAA,KAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,aAAA,MAAA,CAAA,EAAA,EAAA,EAAA,WAAA,OAAA,GAAA,EAAA,OAAA,CAAA,MAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,SAAA,GAAA,MAAA,GAAA,EAAA,GAAA,MAAA,IAAA,UAAA,yIAAA,IAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,MAAA,CAAA,EAAA,WAAA,EAAA,EAAA,OAAA,aAAA,EAAA,WAAA,IAAA,EAAA,EAAA,OAAA,OAAA,EAAA,EAAA,KAAA,GAAA,EAAA,SAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,WAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAvKA,IAEIA,EAFEC,EAAQC,SAASC,cAAc,SAC/BC,EAAQF,SAASC,cAAc,SAI/BE,EAAsB,SAACC,GACrBC,IAAAA,GAAUD,EAAOE,QAAQ,MAAO,IAE3BD,MAAAA,IAAAA,OAAAA,EAAOE,eAAe,QAI7BC,EAAQ,SAACJ,GACN,OAACA,EAAOE,QAAQ,IAAK,IAAIA,QAAQ,KAAM,KAGhD,SAASG,EAASC,EAAOC,GACnBC,IADiC,EACjCA,EAAaD,EAAAA,EAAaE,UAiBTD,EAAAA,EAdnBA,EADEV,EAAMW,SAAS,GAAGA,SAASH,GAAOI,cAAgBhB,EAC3Cc,EAAOG,UAEPH,EAAOI,KAAK,SAACC,EAAGC,GACjBC,IAAAA,EAAOD,EAAEL,SAASH,GAAOI,YACzBM,EAAOH,EAAEJ,SAASH,GAAOI,YAE3BO,OAAAA,MAAMb,EAAMY,IACPA,EAAKE,cAAcH,GAGrBX,EAAMY,GAAQZ,EAAMW,MAdM,IAkBR,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAlBI,IAAAA,EAAkB,EAAA,MAC3BxB,EAAMyB,OAAOD,IAnBsB,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,IAsBrCzB,EAAWI,EAAMW,SAAS,GAAGA,SAASH,GAAOI,YAI/CZ,EAAMuB,iBAAiB,QAAS,SAACC,GACzBC,IAAAA,EAAOD,EAAEE,OAIfnB,EAHqBP,EAAAA,EAAMW,SAAS,GAAGA,UACRgB,UAAU,SAAAC,GAAQA,OAAAA,IAASH,IAElC5B,KAI1BA,EAAM0B,iBAAiB,QAAS,SAACC,GACzBC,IAAAA,EAAOD,EAAEE,OAAOG,QAAQ,MAE1BhC,EAAAA,EAAMc,UAAUmB,IAAI,SAAAF,GAAQA,OAAAA,EAAKG,gBAAgB,WAErDN,EAAKO,UAAUC,IAAI,YAIrBpC,EAAM0B,iBAAiB,WAAY,SAACC,GAC5BC,IAAAA,EAAOD,EAAEE,OACTQ,EAAQpC,SAASqC,cAAc,SAC/BC,EAAOX,EAAKb,YAElBa,EAAKb,YAAc,GACnBa,EAAKH,OAAOY,GACZA,EAAMF,UAAUC,IAAI,cACpBC,EAAMG,MAAWD,GAAAA,OAAAA,GACjBF,EAAMI,QAEFb,IAASA,EAAKc,WAAW5B,SAAS,KACpCuB,EAAMM,QAAU,WACdN,EAAMG,MAAQH,EAAMG,MAAMI,OAAO,EAAG,KAIxCP,EAAMQ,OAEGC,WACoB,KAAvBT,EAAMG,MAAMO,OACdnB,EAAKb,YAAcwB,EACVX,IAASA,EAAKc,WAAW5B,SAAS,GAC3Cc,EAAKb,YAAcX,EAAoBiC,EAAMG,OACpCZ,IAASA,EAAKc,WAAW5B,SAAS,GACvCuB,EAAMG,OAAS,IAAMH,EAAMG,OAAS,GACtCZ,EAAKb,YAAcwB,EAEnBX,EAAKb,YAAcsB,EAAMG,MAAMjC,QAAQ,MAAO,IAGhDqB,EAAKb,YAAcsB,EAAMG,MAAMO,OAGjCV,EAAMW,YAKV,IAAMC,EAAOhD,SAASqC,cAAc,SAEpCW,EAAKd,UAAUC,IAAI,qBACnBnC,SAASiD,KAAKzB,OAAOwB,GAErBA,EAAKE,UAAL,o0BAgCA,IAAMC,EAASnD,SAASoD,iBAAiB,eACnCC,EAAerD,SAASC,cAAc,iBAEtCqD,EAAsB,SAACC,GACvB,GAACA,EAmBMA,IACTF,EAAaH,UAAb,4DApBS,CAOTG,EAAaH,UAGXZ,kFAAAA,OATW,CACX,wCACA,6CACA,6BAMKN,IAAI,SAAAL,GAKRA,MAAAA,2GAAAA,OAAAA,EALY,iBAMZ6B,KAAK,KATR,uBAoBJL,EAAO,GAAG1B,iBAAiB,QAAS,WAE/B0B,GAAAA,EAAO,GAAGZ,MAAOkB,QAAU,GACxBN,EAAO,GAAGZ,MAAOkB,QAAU,GAC5BN,EAAO,GAAGZ,MAAQ,IAClBY,EAAO,GAAGZ,MAAQ,IACE,KAApBY,EAAO,GAAGZ,MASb,OAPAc,EAAanB,UAAUC,IAAI,SAC3BmB,GAAoB,QAEpBI,WAAW,WACTL,EAAanB,UAAUa,OAAO,UAC7B,KAOA,IAFCY,IAAAA,EAAU,EAAI5D,EAAMc,UAAU,GAAG+C,WAAU,GAExCC,EAAI,EAAGA,EAAI,EAAIV,GAAQM,OAAS,EAAGI,IAExCF,EAAQ9C,SAASgD,GAAG/C,YADZ,IAAN+C,EACgCV,EAAOU,GAAGtB,MAEVpC,EAAoBgD,EAAOU,GAAGtB,OAIpExC,EAAMyB,OAAOmC,GAER,IAAA,IAAIG,EAAI,EAAGA,EAAI,EAAIX,GAAQM,OAAQK,IAC5B,IAANA,IACFX,EAAOW,GAAGvB,MAAQ,IAItBc,EAAanB,UAAUC,IAAI,WAC3BmB,GAAoB,GAEpBI,WAAW,WACTL,EAAanB,UAAUa,OAAO,YAC7B","file":"main.bce344b9.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tbody = document.querySelector('tbody');\nconst thead = document.querySelector('thead');\nlet sortedBy;\n\n// Converted string to correct format of Salary\nconst correctFormatSalary = (string) => {\n  const number = +string.replace(/\\D/g, '');\n\n  return `$${number.toLocaleString('en')}`;\n};\n\n// Converted string to number\nconst toNum = (string) => {\n  return +string.replace('$', '').replace(/,/g, '');\n};\n\nfunction sortList(index, sortableList) {\n  let sorted = [...sortableList.children];\n\n  if (thead.children[0].children[index].textContent === sortedBy) {\n    sorted = sorted.reverse();\n  } else {\n    sorted = sorted.sort((a, b) => {\n      const next = b.children[index].textContent;\n      const prev = a.children[index].textContent;\n\n      if (isNaN(toNum(prev))) {\n        return prev.localeCompare(next);\n      }\n\n      return toNum(prev) - toNum(next);\n    });\n  }\n\n  for (const person of sorted) {\n    tbody.append(person);\n  };\n\n  sortedBy = thead.children[0].children[index].textContent;\n};\n\n// Sort by click\nthead.addEventListener('click', (e) => {\n  const item = e.target;\n  const contents = [...thead.children[0].children];\n  const indexContents = contents.findIndex(elem => elem === item);\n\n  sortList(indexContents, tbody);\n});\n\n// Adding to the selected item class=\"active\"\ntbody.addEventListener('click', (e) => {\n  const item = e.target.closest('tr');\n\n  [...tbody.children].map(elem => elem.removeAttribute('class'));\n\n  item.classList.add('active');\n});\n\n// Edit list by double click\ntbody.addEventListener('dblclick', (e) => {\n  const item = e.target;\n  const input = document.createElement('input');\n  const text = item.textContent;\n\n  item.textContent = '';\n  item.append(input);\n  input.classList.add('cell-input');\n  input.value = `${text}`;\n  input.focus();\n\n  if (item === item.parentNode.children[3]) {\n    input.oninput = () => {\n      input.value = input.value.substr(0, 2);\n    };\n  };\n\n  input.onblur = onBlur;\n\n  function onBlur() {\n    if (input.value.trim() === '') {\n      item.textContent = text;\n    } else if (item === item.parentNode.children[4]) {\n      item.textContent = correctFormatSalary(input.value);\n    } else if (item === item.parentNode.children[3]) {\n      if (input.value >= 90 || input.value <= 18) {\n        item.textContent = text;\n      } else {\n        item.textContent = input.value.replace(/\\D/g, '');\n      }\n    } else {\n      item.textContent = input.value.trim();\n    }\n\n    input.remove();\n  };\n});\n\n// Adding form to a page\nconst form = document.createElement('tform');\n\nform.classList.add('new-employee-form');\ndocument.body.append(form);\n\nform.innerHTML = `\n<label>\n  Name:\n  <input class=\"form__item\" name=\"name\" type=\"text\" data-qa=\"name\" required>\n</label>\n<label>\n  Position:\n  <input class=\"form__item\" name=\"position\" type=\"text\" data-qa=\"position\">\n</label>\n<label>\n  Office:\n  <select class=\"form__item\" name=\"office\" data-qa=\"office\">\n    <option>Tokyo</option>\n    <option>Singapore</option>\n    <option>London</option>\n    <option>New York</option>\n    <option>Edinburgh</option>\n    <option>San Francisco</option>\n  </select>\n</label>\n<label>\n  Age:\n  <input class=\"form__item\" name=\"age\" type=\"number\" data-qa=\"age\">\n</label>\n<label>\n  Salary:\n  <input class=\"form__item\" name=\"salary\" type=\"number\" data-qa=\"salary\">\n</label>\n<button class=\"form__item\" type=\"submit\">Save to table</button>\n<div data-qa=\"notification\" class=\"notification\"></div>\n`;\n\nconst inputs = document.querySelectorAll('.form__item');\nconst notification = document.querySelector('.notification');\n\nconst getNotificationText = (stat) => {\n  if (!stat) {\n    const text = [\n      'Name must contain more than 4 letters',\n      'Age cannot be less than 18 or more than 90',\n      'All fields must be filled',\n    ];\n\n    notification.innerHTML = `\n    <h2>Please enter correct data</h2>\n    <ul style=\"padding: 16px;\">\n    ${text.map(item => `\n    <li style = \"\n      font-size: 16px;\n      font-weight: 600;\n      padding-bottom: 10px\"\n    >${item}</li>\n    `).join(' ')}\n    </ul>\n    `;\n  } else if (stat) {\n    notification.innerHTML = `\n    <h2>New employee added successfully</h2>\n    `;\n  }\n};\n\n// Adding data to a list\ninputs[5].addEventListener('click', () => {\n  if (\n    (inputs[0].value).length <= 4\n    || (inputs[1].value).length <= 0\n    || inputs[3].value < 18\n    || inputs[3].value > 90\n    || inputs[4].value === ''\n  ) {\n    notification.classList.add('error');\n    getNotificationText(false);\n\n    setTimeout(() => {\n      notification.classList.remove('error');\n    }, 3000);\n\n    return;\n  };\n\n  const element = [...tbody.children][0].cloneNode(true);\n\n  for (let i = 0; i < [...inputs].length - 1; i++) {\n    if (i !== 4) {\n      element.children[i].textContent = inputs[i].value;\n    } else {\n      element.children[i].textContent = correctFormatSalary(inputs[i].value);\n    }\n  }\n\n  tbody.append(element);\n\n  for (let y = 0; y < [...inputs].length; y++) {\n    if (y !== 2) {\n      inputs[y].value = '';\n    };\n  };\n\n  notification.classList.add('success');\n  getNotificationText(true);\n\n  setTimeout(() => {\n    notification.classList.remove('success');\n  }, 3000);\n});\n"]}